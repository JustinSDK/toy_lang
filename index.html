<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The first language I made.">
    <meta property="og:locale" content="en_US">
    <meta property="og:title" content="Toy Lang">
    <meta property="og:type" content="programming language">
    <meta property="og:url" content="https://openhome.cc/Gossip/Computation/toy_lang/index.html">
    <meta property="og:image" content="https://openhome.cc/Gossip/images/caterpillar_small.jpg">
    <meta property="og:site_name" content="OPENHOME.CC">
    <meta property="og:description" content="The first language I made.">
    <title>Toy Lang</title>
    <style type="text/css">
        textarea {
           width:100%;
           height:400px;
           resize:none;
           overflow:auto;
        }   
    </style>
  </head>
  <body> <a href="https://openhome.cc"><img src="https://openhome.cc/Gossip/images/caterpillar_small_front.jpg"></a>
    <p>You can find the source code on <a href="https://github.com/JustinSDK/toy_lang">Github</a>. 
        Toy lang is the first language I made and might be a prototype if you want to design your own language.  
        The following examples contain several syntaxes of Toy lang.  ES6 modules support is required. </p>
    <ul>
      <li># Multiplication Table</li>
    </ul>
    <pre><strong><code>def print_row(n)
    i = 2
    while i &lt; 10
        print(i + '*' + n + '=' + (i * n) + '\t')
        i = i + 1 
    end
    println()
end

i = 1
while i &lt; 10
    print_row(i)
    i = i + 1
end</code></strong></pre>
<ul>
    <li># Tower of Hanoi</li>
  </ul>
  <pre><strong><code>def hanoi(n, a, b, c) 
    if n == 1
        println('Move sheet from ' + a + ' to ' + c)
    else
        hanoi(n - 1, a, c, b)
        hanoi(1, a, b, c)
        hanoi(n - 1, b, a, c) 
    end
end

hanoi(3, 'A', 'B', 'C')</code></strong></pre>
<ul>
    <li># Factorial</li>
  </ul>
  <pre><strong><code>def factorial(n)
    if n == 0
        return 1
    end

    return n * factorial(n - 1)
end

n = 1
while n &lt;= 5
    println(n + '! = ' + factorial(n))
    n = n + 1
end</code></strong></pre>
<ul>
    <li># Class</li>
  </ul>
  <pre><strong><code>class Account
    # it's a field
    balance = 0 

    def init(number, name)
        this.number = number
        this.name = name
    end

    def deposit(amount)
        if amount &lt;= 0
            println('must be positive')
            return
        end

        this.balance = this.balance + amount
    end

    def toString()
        return this.number + ', ' + this.name + ', ' + this.balance
    end
end

acct = new Account('123', 'Justin')
acct.deposit(100)
println(acct.toString())</code></strong></pre>
    <ul>
      <li>Laboratory</li>
    </ul>
    <textarea id="code"># Is a language easier if 'Hello World' is easier?
println('Hello World')</textarea> <br>
    <br>
    <button id="run">Run It</button> <br>
    <br>
    <textarea readonly="readonly" id="tty" style="background: #000;color:#fff;"></textarea>
    <script type="module">
    import {Tokenizer} from './js/tokenizer/tokenizer.js';        
    import {Context} from './js/context.js';
    import {Parser} from './js/toy_parser.js';

    const ENVIRONMENT = {
        output(value) {
            tty.textContent += value;
        }
    };

    document.getElementById('run').addEventListener('click', _ => {
        let code = document.getElementById('code').value;
        let tty = document.getElementById('tty');
        tty.textContent = '';
        new Parser(ENVIRONMENT)
                .parse(new Tokenizer(code))
                .evaluate(Context.initialize(ENVIRONMENT));
    });
</script> </body>
</html>
